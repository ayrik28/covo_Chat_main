# ğŸ”§ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡ - Covo Bot

## ğŸ“‹ ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨

- [ğŸ¯ Ù…Ù‚Ø¯Ù…Ù‡](#-Ù…Ù‚Ø¯Ù…Ù‡)
- [ğŸ—ï¸ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡](#ï¸-Ù…Ø¹Ù…Ø§Ø±ÛŒ-Ù¾Ø±ÙˆÚ˜Ù‡)
- [ğŸ“ Ø³Ø§Ø®ØªØ§Ø± Ú©Ø¯](#-Ø³Ø§Ø®ØªØ§Ø±-Ú©Ø¯)
- [ğŸ› ï¸ Ù†Ø­ÙˆÙ‡ Ø§ÙØ²ÙˆØ¯Ù† Ù‚Ø§Ø¨Ù„ÛŒØª Ø¬Ø¯ÛŒØ¯](#ï¸-Ù†Ø­ÙˆÙ‡-Ø§ÙØ²ÙˆØ¯Ù†-Ù‚Ø§Ø¨Ù„ÛŒØª-Ø¬Ø¯ÛŒØ¯)
- [ğŸ—„ï¸ Ú©Ø§Ø± Ø¨Ø§ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡](#ï¸-Ú©Ø§Ø±-Ø¨Ø§-Ù¾Ø§ÛŒÚ¯Ø§Ù‡-Ø¯Ø§Ø¯Ù‡)
- [ğŸ§ª ØªØ³Øª Ú©Ø±Ø¯Ù†](#-ØªØ³Øª-Ú©Ø±Ø¯Ù†)
- [ğŸ“ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ù‡Ø§ÛŒ Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ](#-Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ù‡Ø§ÛŒ-Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ)
- [ğŸ” Ø¯ÛŒØ¨Ø§Ú¯](#-Ø¯ÛŒØ¨Ø§Ú¯)
- [ğŸ“¦ Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§](#-Ù…Ø¯ÛŒØ±ÛŒØª-ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§)
- [ğŸš€ Ø§Ø³ØªÙ‚Ø±Ø§Ø±](#-Ø§Ø³ØªÙ‚Ø±Ø§Ø±)

---

## ğŸ¯ Ù…Ù‚Ø¯Ù…Ù‡

Ø§ÛŒÙ† Ø±Ø§Ù‡Ù†Ù…Ø§ Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù†ÛŒ Ø§Ø³Øª Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù†Ø¯ Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Covo Bot Ù…Ø´Ø§Ø±Ú©Øª Ú©Ù†Ù†Ø¯ ÛŒØ§ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†Ù†Ø¯.

### ğŸ“š **Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§**

- Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ Ø²Ø¨Ø§Ù† Go
- Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ Telegram Bot API
- Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ MySQL
- Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ Git
- Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ REST APIs

---

## ğŸ—ï¸ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

### ğŸ”„ **Ù†Ù…ÙˆØ¯Ø§Ø± Ø¬Ø±ÛŒØ§Ù† Ø¯Ø§Ø¯Ù‡**

```mermaid
graph TB
    A[Telegram API] --> B[main.go]
    B --> C[Command Router]
    C --> D[AI Commands]
    C --> E[Game Commands]
    C --> F[Admin Commands]
    C --> G[Moderation Commands]
    
    D --> H[DeepSeek AI]
    E --> I[JSON Data Files]
    F --> J[MySQL Database]
    G --> K[Rate Limiter]
    
    J --> L[User Usage]
    J --> M[Group Messages]
    J --> N[Feature Settings]
    J --> O[Daily Challenges]
    
    B --> P[Cron Scheduler]
    P --> Q[Daily Challenge]
    P --> R[Crush Announcements]
    P --> S[Daily Summary]
```

### ğŸ§© **Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡**

#### **Command Pattern**
```go
type Command interface {
    Handle(update tgbotapi.Update) tgbotapi.MessageConfig
}
```

#### **Repository Pattern**
```go
type Storage interface {
    GetUserUsage(userID int64) (*UserUsage, error)
    AddGroupMessage(groupID int64, userID int64, username, message string) error
    // ...
}
```

#### **Factory Pattern**
```go
func NewCovoBot() (*CovoBot, error) {
    // Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ ØªÙ…Ø§Ù… Ø§Ø¬Ø²Ø§
}
```

---

## ğŸ“ Ø³Ø§Ø®ØªØ§Ø± Ú©Ø¯

### ğŸ—‚ï¸ **Ø³Ø§Ø²Ù…Ø§Ù†Ø¯Ù‡ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§**

```
Covo_Chat/
â”œâ”€â”€ main.go                    # Ù†Ù‚Ø·Ù‡ ÙˆØ±ÙˆØ¯ Ø§ØµÙ„ÛŒ
â”œâ”€â”€ config/                    # Ù…Ø¯ÛŒØ±ÛŒØª ØªÙ†Ø¸ÛŒÙ…Ø§Øª
â”‚   â””â”€â”€ env.go                # Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ·ÛŒ
â”œâ”€â”€ commands/                  # Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¨Ø§Øª
â”‚   â”œâ”€â”€ admin.go              # Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø¯Ù…ÛŒÙ†
â”‚   â”œâ”€â”€ clown.go              # Ù‚Ø§Ø¨Ù„ÛŒØª Ø¯Ù„Ù‚Ú©
â”‚   â”œâ”€â”€ covo.go               # Ø¯Ø³ØªÙˆØ± Ø§ØµÙ„ÛŒ AI
â”‚   â”œâ”€â”€ crush.go              # Ù‚Ø§Ø¨Ù„ÛŒØª Ú©Ø±Ø§Ø´
â”‚   â”œâ”€â”€ daily_challenge.go    # Ú†Ù„Ù†Ø¬ Ø±ÙˆØ²Ø§Ù†Ù‡
â”‚   â”œâ”€â”€ gap.go                # Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
â”‚   â”œâ”€â”€ hafez.go              # ÙØ§Ù„ Ø­Ø§ÙØ¸
â”‚   â”œâ”€â”€ moderation.go         # Ù…Ø¯ÛŒØ±ÛŒØª Ú¯Ø±ÙˆÙ‡
â”‚   â”œâ”€â”€ music.go              # Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÙˆØ³ÛŒÙ‚ÛŒ
â”‚   â”œâ”€â”€ redhat.go             # Ø¯Ø³ØªÙˆØ± Ø§ØµÙ„ÛŒ (legacy)
â”‚   â”œâ”€â”€ rrs.go                # ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§Øª
â”‚   â”œâ”€â”€ rtj.go                # ØªÙˆÙ„ÛŒØ¯ Ø¬ÙˆÚ©
â”‚   â”œâ”€â”€ tag.go                # ØªÚ¯ Ú©Ø±Ø¯Ù†
â”‚   â””â”€â”€ truthdare.go          # Ø¨Ø§Ø²ÛŒ Ø¬Ø±Ø§Øª ÛŒØ§ Ø­Ù‚ÛŒÙ‚Øª
â”œâ”€â”€ storage/                   # Ù„Ø§ÛŒÙ‡ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ
â”‚   â”œâ”€â”€ mysql.go              # Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ MySQL
â”‚   â””â”€â”€ memory.go             # Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø­Ø§ÙØ¸Ù‡ (ØºÛŒØ±ÙØ¹Ø§Ù„)
â”œâ”€â”€ ai/                        # Ø§Ø¯ØºØ§Ù… Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ
â”‚   â””â”€â”€ openai.go             # Ú©Ù„Ø§ÛŒÙ†Øª DeepSeek
â”œâ”€â”€ limiter/                   # Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¯Ø±Ø®ÙˆØ§Ø³Øª
â”‚   â””â”€â”€ rate_limiter.go       # Ø³ÛŒØ³ØªÙ… Rate Limiting
â”œâ”€â”€ scheduler/                 # Ø²Ù…Ø§Ù†â€ŒØ¨Ù†Ø¯ÛŒ
â”‚   â””â”€â”€ daily_summary.go      # Ø®Ù„Ø§ØµÙ‡ Ø±ÙˆØ²Ø§Ù†Ù‡
â””â”€â”€ jsonfile/                  # ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø¯Ù‡
    â”œâ”€â”€ badwords.json         # Ú©Ù„Ù…Ø§Øª Ù†Ø§Ù…Ù†Ø§Ø³Ø¨
    â”œâ”€â”€ clown.json            # Ù…ØªÙ†â€ŒÙ‡Ø§ÛŒ Ø¯Ù„Ù‚Ú©
    â”œâ”€â”€ dare.json             # Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ø¬Ø±Ø§Øª
    â”œâ”€â”€ fal.json              # ÙØ§Ù„â€ŒÙ‡Ø§ÛŒ Ø­Ø§ÙØ¸
    â”œâ”€â”€ truth+18.json         # Ø³ÙˆØ§Ù„Ø§Øª +18
    â””â”€â”€ zarb.json             # Ø¶Ø±Ø¨â€ŒØ§Ù„Ù…Ø«Ù„â€ŒÙ‡Ø§
```

### ğŸ¯ **Ø§ØµÙˆÙ„ Ø·Ø±Ø§Ø­ÛŒ**

#### **Separation of Concerns**
- Ù‡Ø± ÙØ§ÛŒÙ„ Ù…Ø³Ø¦ÙˆÙ„ÛŒØª Ù…Ø´Ø®ØµÛŒ Ø¯Ø§Ø±Ø¯
- Ù…Ù†Ø·Ù‚ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± Ø§Ø² Ù„Ø§ÛŒÙ‡ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¬Ø¯Ø§ Ø§Ø³Øª
- Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§Ø² ÛŒÚ©Ø¯ÛŒÚ¯Ø± Ù…Ø³ØªÙ‚Ù„ Ù‡Ø³ØªÙ†Ø¯

#### **Single Responsibility Principle**
- Ù‡Ø± Ú©Ù„Ø§Ø³/ÙØ§ÛŒÙ„ ÛŒÚ© Ù…Ø³Ø¦ÙˆÙ„ÛŒØª Ø¯Ø§Ø±Ø¯
- ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± ÛŒÚ© Ø¨Ø®Ø´ØŒ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ø±Ø§ ØªØ­Øª ØªØ£Ø«ÛŒØ± Ù‚Ø±Ø§Ø± Ù†Ù…ÛŒâ€ŒØ¯Ù‡Ø¯

#### **Dependency Injection**
```go
func NewCovoCommand(aiClient *ai.DeepSeekClient, rateLimiter *limiter.RateLimiter, bot *tgbotapi.BotAPI) *CovoCommand {
    return &CovoCommand{
        aiClient:    aiClient,
        rateLimiter: rateLimiter,
        bot:         bot,
    }
}
```

---

## ğŸ› ï¸ Ù†Ø­ÙˆÙ‡ Ø§ÙØ²ÙˆØ¯Ù† Ù‚Ø§Ø¨Ù„ÛŒØª Ø¬Ø¯ÛŒØ¯

### ğŸ“ **Ù…Ø±Ø§Ø­Ù„ Ú©Ù„ÛŒ**

#### 1ï¸âƒ£ **Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ**
- Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒØ¯
- Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø±Ø§ Ø·Ø±Ø§Ø­ÛŒ Ú©Ù†ÛŒØ¯
- Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯

#### 2ï¸âƒ£ **Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ Ø¯Ø³ØªÙˆØ±**
```go
// commands/new_feature.go
package commands

import (
    "redhat-bot/storage"
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

type NewFeatureCommand struct {
    bot     *tgbotapi.BotAPI
    storage *storage.MySQLStorage
}

func NewNewFeatureCommand(bot *tgbotapi.BotAPI, storage *storage.MySQLStorage) *NewFeatureCommand {
    return &NewFeatureCommand{
        bot:     bot,
        storage: storage,
    }
}

func (c *NewFeatureCommand) Handle(update tgbotapi.Update) tgbotapi.MessageConfig {
    chatID := update.Message.Chat.ID
    userID := update.Message.From.ID
    
    // Ù…Ù†Ø·Ù‚ Ø¯Ø³ØªÙˆØ±
    response := "Ù¾Ø§Ø³Ø® Ø¯Ø³ØªÙˆØ± Ø¬Ø¯ÛŒØ¯"
    
    msg := tgbotapi.NewMessage(chatID, response)
    msg.ParseMode = tgbotapi.ModeMarkdown
    return msg
}
```

#### 3ï¸âƒ£ **Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ main.go**
```go
// Ø¯Ø± NewCovoBot()
newFeatureCommand := commands.NewNewFeatureCommand(bot, storage)

// Ø¯Ø± CovoBot struct
type CovoBot struct {
    // ... Ø³Ø§ÛŒØ± ÙÛŒÙ„Ø¯Ù‡Ø§
    newFeatureCommand *commands.NewFeatureCommand
}

// Ø¯Ø± handleUpdate()
case strings.HasPrefix(text, "/newfeature"):
    response = r.newFeatureCommand.Handle(update)
```

#### 4ï¸âƒ£ **Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª**
```go
// Ø¯Ø± commands/gap.go
case "new_feature":
    msg.Text = "Ù‚Ø§Ø¨Ù„ÛŒØª Ø¬Ø¯ÛŒØ¯ ÙØ¹Ø§Ù„ Ø´Ø¯"
    // Ù…Ù†Ø·Ù‚ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ
```

### ğŸ® **Ù…Ø«Ø§Ù„: Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯**

#### **1. Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ Ø¨Ø§Ø²ÛŒ**
```go
// commands/new_game.go
package commands

import (
    "math/rand"
    "time"
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

type NewGameCommand struct {
    bot     *tgbotapi.BotAPI
    storage *storage.MySQLStorage
    games   map[int64]*GameState // ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§
}

type GameState struct {
    ChatID      int64
    PlayerID    int64
    Score       int
    IsActive    bool
    CreatedAt   time.Time
}

func NewNewGameCommand(bot *tgbotapi.BotAPI, storage *storage.MySQLStorage) *NewGameCommand {
    return &NewGameCommand{
        bot:     bot,
        storage: storage,
        games:   make(map[int64]*GameState),
    }
}

func (g *NewGameCommand) Handle(update tgbotapi.Update) tgbotapi.MessageConfig {
    chatID := update.Message.Chat.ID
    userID := update.Message.From.ID
    
    // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ø²ÛŒ ÙØ¹Ø§Ù„
    if game, exists := g.games[chatID]; exists && game.IsActive {
        return tgbotapi.NewMessage(chatID, "Ø¨Ø§Ø²ÛŒ Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù… Ø§Ø³Øª!")
    }
    
    // Ø§ÛŒØ¬Ø§Ø¯ Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯
    game := &GameState{
        ChatID:    chatID,
        PlayerID:  userID,
        Score:     0,
        IsActive:  true,
        CreatedAt: time.Now(),
    }
    g.games[chatID] = game
    
    // Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
    text := "ğŸ® Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯ Ø´Ø±ÙˆØ¹ Ø´Ø¯!\n\nÙ†Ù…Ø±Ù‡ Ø´Ù…Ø§: 0\n\nØ¨Ø±Ø§ÛŒ Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø§Ø²ÛŒ /play Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯"
    msg := tgbotapi.NewMessage(chatID, text)
    msg.ParseMode = tgbotapi.ModeMarkdown
    return msg
}

func (g *NewGameCommand) HandlePlay(update tgbotapi.Update) tgbotapi.MessageConfig {
    chatID := update.Message.Chat.ID
    userID := update.Message.From.ID
    
    game, exists := g.games[chatID]
    if !exists || !game.IsActive {
        return tgbotapi.NewMessage(chatID, "Ù‡ÛŒÚ† Ø¨Ø§Ø²ÛŒ ÙØ¹Ø§Ù„ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯!")
    }
    
    if game.PlayerID != userID {
        return tgbotapi.NewMessage(chatID, "Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ø´Ù…Ø§ Ù†ÛŒØ³Øª!")
    }
    
    // Ù…Ù†Ø·Ù‚ Ø¨Ø§Ø²ÛŒ
    game.Score += rand.Intn(10) + 1
    
    text := fmt.Sprintf("ğŸ¯ Ù†Ù…Ø±Ù‡ Ø´Ù…Ø§: %d\n\nØ¨Ø±Ø§ÛŒ Ø§Ø¯Ø§Ù…Ù‡ /play Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯", game.Score)
    msg := tgbotapi.NewMessage(chatID, text)
    msg.ParseMode = tgbotapi.ModeMarkdown
    return msg
}
```

#### **2. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ main.go**
```go
// Ø¯Ø± NewCovoBot()
newGameCommand := commands.NewNewGameCommand(bot, storage)

// Ø¯Ø± CovoBot struct
type CovoBot struct {
    // ... Ø³Ø§ÛŒØ± ÙÛŒÙ„Ø¯Ù‡Ø§
    newGameCommand *commands.NewGameCommand
}

// Ø¯Ø± handleUpdate()
case strings.HasPrefix(text, "/newgame"):
    response = r.newGameCommand.Handle(update)
case strings.HasPrefix(text, "/play"):
    response = r.newGameCommand.HandlePlay(update)
```

---

## ğŸ—„ï¸ Ú©Ø§Ø± Ø¨Ø§ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡

### ğŸ“Š **Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¬Ø¯ÙˆÙ„ Ø¬Ø¯ÛŒØ¯**

#### **1. ØªØ¹Ø±ÛŒÙ Ù…Ø¯Ù„**
```go
// storage/mysql.go
type NewTable struct {
    ID        uint      `gorm:"primaryKey"`
    Name      string    `gorm:"type:varchar(255);not null"`
    Value     int       `gorm:"default:0"`
    CreatedAt time.Time `gorm:"autoCreateTime"`
    UpdatedAt time.Time `gorm:"autoUpdateTime"`
}
```

#### **2. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ AutoMigrate**
```go
// Ø¯Ø± NewMySQLStorage()
if err := db.AutoMigrate(&NewTable{}); err != nil {
    return nil, fmt.Errorf("error migrating NewTable: %v", err)
}
```

#### **3. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…ØªØ¯Ù‡Ø§ÛŒ CRUD**
```go
// storage/mysql.go
func (m *MySQLStorage) CreateNewTable(nt *NewTable) error {
    return m.db.Create(nt).Error
}

func (m *MySQLStorage) GetNewTableByID(id uint) (*NewTable, error) {
    var nt NewTable
    err := m.db.First(&nt, id).Error
    if err != nil {
        return nil, err
    }
    return &nt, nil
}

func (m *MySQLStorage) UpdateNewTable(nt *NewTable) error {
    return m.db.Save(nt).Error
}

func (m *MySQLStorage) DeleteNewTable(id uint) error {
    return m.db.Delete(&NewTable{}, id).Error
}

func (m *MySQLStorage) ListNewTables(limit, offset int) ([]NewTable, error) {
    var tables []NewTable
    err := m.db.Limit(limit).Offset(offset).Find(&tables).Error
    return tables, err
}
```

### ğŸ” **Query Ù‡Ø§ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡**

#### **Join Ú©Ø±Ø¯Ù† Ø¬Ø¯Ø§ÙˆÙ„**
```go
func (m *MySQLStorage) GetUserStatsWithMessages(userID int64) ([]UserStats, error) {
    var stats []UserStats
    err := m.db.Table("users").
        Select("users.id, users.name, COUNT(group_messages.id) as message_count").
        Joins("LEFT JOIN group_messages ON users.id = group_messages.user_id").
        Where("users.id = ?", userID).
        Group("users.id").
        Scan(&stats).Error
    return stats, err
}
```

#### **Aggregation**
```go
func (m *MySQLStorage) GetDailyStats(date time.Time) (*DailyStats, error) {
    var stats DailyStats
    startOfDay := time.Date(date.Year(), date.Month(), date.Day(), 0, 0, 0, 0, date.Location())
    endOfDay := startOfDay.Add(24 * time.Hour)
    
    err := m.db.Table("group_messages").
        Select("COUNT(*) as total_messages, COUNT(DISTINCT user_id) as unique_users").
        Where("timestamp BETWEEN ? AND ?", startOfDay, endOfDay).
        Scan(&stats).Error
    return &stats, err
}
```

---

## ğŸ§ª ØªØ³Øª Ú©Ø±Ø¯Ù†

### ğŸ”¬ **Ù†Ø­ÙˆÙ‡ Ù†ÙˆØ´ØªÙ† ØªØ³Øª**

#### **1. Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ ØªØ³Øª**
```go
// commands/new_feature_test.go
package commands

import (
    "testing"
    "redhat-bot/storage"
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

func TestNewFeatureCommand_Handle(t *testing.T) {
    // Setup
    bot := &tgbotapi.BotAPI{} // Mock bot
    storage := &storage.MySQLStorage{} // Mock storage
    cmd := NewNewFeatureCommand(bot, storage)
    
    // Test data
    update := tgbotapi.Update{
        Message: &tgbotapi.Message{
            Chat: &tgbotapi.Chat{ID: 12345},
            From: &tgbotapi.User{ID: 67890},
            Text: "/newfeature test",
        },
    }
    
    // Execute
    result := cmd.Handle(update)
    
    // Assert
    if result.ChatID != 12345 {
        t.Errorf("Expected ChatID 12345, got %d", result.ChatID)
    }
    
    if result.Text == "" {
        t.Error("Expected non-empty response text")
    }
}
```

#### **2. ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Integration**
```go
func TestNewFeatureCommand_Integration(t *testing.T) {
    // Setup database
    db := setupTestDB(t)
    defer cleanupTestDB(t, db)
    
    // Setup command
    cmd := NewNewFeatureCommand(mockBot, db)
    
    // Test full flow
    update := createTestUpdate("/newfeature test")
    result := cmd.Handle(update)
    
    // Verify database state
    var count int64
    db.Model(&NewTable{}).Count(&count)
    if count != 1 {
        t.Errorf("Expected 1 record, got %d", count)
    }
}
```

#### **3. ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Performance**
```go
func BenchmarkNewFeatureCommand_Handle(b *testing.B) {
    cmd := setupTestCommand()
    update := createTestUpdate("/newfeature test")
    
    b.ResetTimer()
    for i := 0; i < b.N; i++ {
        cmd.Handle(update)
    }
}
```

### ğŸš€ **Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§**

```bash
# Ø§Ø¬Ø±Ø§ÛŒ ØªÙ…Ø§Ù… ØªØ³Øªâ€ŒÙ‡Ø§
go test ./...

# Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ ÛŒÚ© Ù¾Ú©ÛŒØ¬
go test ./commands

# Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª Ø¨Ø§ coverage
go test -cover ./...

# Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ performance
go test -bench=. ./...

# Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ race condition
go test -race ./...
```

---

## ğŸ“ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ù‡Ø§ÛŒ Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ

### ğŸ¯ **Ù†Ø§Ù…â€ŒÚ¯Ø°Ø§Ø±ÛŒ**

#### **Ù…ØªØºÛŒØ±Ù‡Ø§ Ùˆ ØªÙˆØ§Ø¨Ø¹**
```go
// âœ… Ø¯Ø±Ø³Øª
var userID int64
var messageText string
func GetUserByID(id int64) (*User, error)

// âŒ Ù†Ø§Ø¯Ø±Ø³Øª
var user_id int64
var message_text string
func getUserById(id int64) (*User, error)
```

#### **Ø³Ø§Ø®ØªØ§Ø±Ù‡Ø§ Ùˆ Ø§ÛŒÙ†ØªØ±ÙÛŒØ³â€ŒÙ‡Ø§**
```go
// âœ… Ø¯Ø±Ø³Øª
type UserCommand struct {
    bot     *tgbotapi.BotAPI
    storage *storage.MySQLStorage
}

type CommandHandler interface {
    Handle(update tgbotapi.Update) tgbotapi.MessageConfig
}

// âŒ Ù†Ø§Ø¯Ø±Ø³Øª
type userCommand struct {
    bot     *tgbotapi.BotAPI
    storage *storage.MySQLStorage
}
```

### ğŸ“š **Ú©Ø§Ù…Ù†Øªâ€ŒÙ‡Ø§**

#### **Ú©Ø§Ù…Ù†Øªâ€ŒÙ‡Ø§ÛŒ ØªÙˆØ§Ø¨Ø¹**
```go
// Handle processes incoming messages and returns appropriate response
// It checks user permissions, validates input, and executes command logic
func (c *Command) Handle(update tgbotapi.Update) tgbotapi.MessageConfig {
    // Implementation
}
```

#### **Ú©Ø§Ù…Ù†Øªâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡**
```go
// Process user input and generate AI response
// This function:
// 1. Validates user input
// 2. Checks rate limits
// 3. Calls AI service
// 4. Formats response
func (c *AICommand) processUserInput(input string) (string, error) {
    // Implementation
}
```

### ğŸ”§ **Error Handling**

```go
// âœ… Ø¯Ø±Ø³Øª
func (s *Storage) GetUser(id int64) (*User, error) {
    var user User
    err := s.db.First(&user, id).Error
    if err != nil {
        if errors.Is(err, gorm.ErrRecordNotFound) {
            return nil, fmt.Errorf("user with id %d not found", id)
        }
        return nil, fmt.Errorf("failed to get user: %w", err)
    }
    return &user, nil
}

// âŒ Ù†Ø§Ø¯Ø±Ø³Øª
func (s *Storage) GetUser(id int64) (*User, error) {
    var user User
    err := s.db.First(&user, id).Error
    if err != nil {
        return nil, err
    }
    return &user, nil
}
```

### ğŸ§¹ **Ú©Ø¯ ØªÙ…ÛŒØ²**

#### **ØªÙˆØ§Ø¨Ø¹ Ú©ÙˆØªØ§Ù‡ Ùˆ Ù…ØªÙ…Ø±Ú©Ø²**
```go
// âœ… Ø¯Ø±Ø³Øª
func (c *Command) Handle(update tgbotapi.Update) tgbotapi.MessageConfig {
    if !c.validateInput(update) {
        return c.createErrorResponse("Invalid input")
    }
    
    if !c.checkPermissions(update) {
        return c.createPermissionErrorResponse()
    }
    
    return c.executeCommand(update)
}

// âŒ Ù†Ø§Ø¯Ø±Ø³Øª
func (c *Command) Handle(update tgbotapi.Update) tgbotapi.MessageConfig {
    // 100+ lines of mixed logic
}
```

---

## ğŸ” Ø¯ÛŒØ¨Ø§Ú¯

### ğŸ› **Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø¯ÛŒØ¨Ø§Ú¯**

#### **Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² log**
```go
import "log"

func (c *Command) Handle(update tgbotapi.Update) tgbotapi.MessageConfig {
    log.Printf("Processing command for user %d in chat %d", 
        update.Message.From.ID, update.Message.Chat.ID)
    
    // ... logic
    
    log.Printf("Command processed successfully")
    return result
}
```

#### **Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² debugger**
```go
// Ø¯Ø± VS Code ÛŒØ§ GoLand
func (c *Command) Handle(update tgbotapi.Update) tgbotapi.MessageConfig {
    // Set breakpoint here
    userID := update.Message.From.ID
    chatID := update.Message.Chat.ID
    
    // Debug variables
    _ = userID
    _ = chatID
    
    // ... rest of logic
}
```

### ğŸ“Š **Ù¾Ø±ÙˆÙØ§ÛŒÙ„ÛŒÙ†Ú¯**

#### **Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² pprof**
```go
import _ "net/http/pprof"
import "net/http"

func main() {
    // Start pprof server
    go func() {
        log.Println(http.ListenAndServe("localhost:6060", nil))
    }()
    
    // ... rest of main
}
```

#### **ØªØ­Ù„ÛŒÙ„ Ø¹Ù…Ù„Ú©Ø±Ø¯**
```bash
# Ø§Ø¬Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡
go run main.go

# Ø¯Ø± ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ø¯ÛŒÚ¯Ø±
go tool pprof http://localhost:6060/debug/pprof/profile
```

---

## ğŸ“¦ Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§

### ğŸ”„ **Ø§ÙØ²ÙˆØ¯Ù† ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ø¬Ø¯ÛŒØ¯**

```bash
# Ø§ÙØ²ÙˆØ¯Ù† ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ
go get github.com/new/package@v1.2.3

# Ø§ÙØ²ÙˆØ¯Ù† ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ ØªÙˆØ³Ø¹Ù‡
go get -d github.com/new/package@v1.2.3

# Ø­Ø°Ù ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ
go mod tidy
```

### ğŸ”’ **Ù‚ÙÙ„ Ú©Ø±Ø¯Ù† Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§**

```go
// go.mod
module redhat-bot

go 1.24.5

require (
    github.com/go-telegram-bot-api/telegram-bot-api/v5 v5.5.1
    github.com/new/package v1.2.3
)
```

### ğŸ”„ **Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§**

```bash
# Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªÙ…Ø§Ù… ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§
go get -u ./...

# Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ø®Ø§Øµ
go get -u github.com/package/name

# Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø³ÙˆØ®
go list -u -m all
```

---

## ğŸš€ Ø§Ø³ØªÙ‚Ø±Ø§Ø±

### ğŸ­ **Production Build**

```bash
# Build Ø¨Ø±Ø§ÛŒ production
go build -ldflags="-s -w" -o covo-bot main.go

# Build Ø¨Ø±Ø§ÛŒ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
GOOS=linux GOARCH=amd64 go build -ldflags="-s -w" -o covo-bot-linux main.go
GOOS=windows GOARCH=amd64 go build -ldflags="-s -w" -o covo-bot.exe main.go
GOOS=darwin GOARCH=amd64 go build -ldflags="-s -w" -o covo-bot-mac main.go
```

### ğŸ³ **Docker**

```dockerfile
# Dockerfile
FROM golang:1.24.5-alpine AS builder
WORKDIR /app
COPY . .
RUN go mod download
RUN go build -ldflags="-s -w" -o covo-bot main.go

FROM alpine:latest
RUN apk --no-cache add ca-certificates
WORKDIR /root/
COPY --from=builder /app/covo-bot .
COPY --from=builder /app/jsonfile ./jsonfile
CMD ["./covo-bot"]
```

```bash
# Build Docker image
docker build -t covo-bot .

# Run container
docker run -d --name covo-bot --env-file .env covo-bot
```

### ğŸ”„ **CI/CD**

```yaml
# .github/workflows/ci.yml
name: CI/CD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-go@v3
      with:
        go-version: 1.24.5
    - run: go mod download
    - run: go test ./...
    - run: go build -o covo-bot main.go

  deploy:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    steps:
    - uses: actions/checkout@v3
    - name: Deploy to production
      run: |
        # Deploy script
        echo "Deploying to production..."
```

---

## ğŸ“š Ù…Ù†Ø§Ø¨Ø¹ Ù…ÙÛŒØ¯

### ğŸ“– **Ù…Ø³ØªÙ†Ø¯Ø§Øª**
- [Go Documentation](https://golang.org/doc/)
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [GORM Documentation](https://gorm.io/docs/)
- [MySQL Documentation](https://dev.mysql.com/doc/)

### ğŸ› ï¸ **Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§**
- [VS Code Go Extension](https://marketplace.visualstudio.com/items?itemName=golang.Go)
- [GoLand IDE](https://www.jetbrains.com/go/)
- [Postman](https://www.postman.com/) - Ø¨Ø±Ø§ÛŒ ØªØ³Øª API
- [MySQL Workbench](https://www.mysql.com/products/workbench/) - Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯ÛŒØªØ§Ø¨ÛŒØ³

### ğŸ“ **Ø¢Ù…ÙˆØ²Ø´**
- [Go by Example](https://gobyexample.com/)
- [Effective Go](https://golang.org/doc/effective_go.html)
- [Go Code Review Comments](https://github.com/golang/go/wiki/CodeReviewComments)

---

<div align="center">

**ğŸ”§ Ù…ÙˆÙÙ‚ Ø¨Ø§Ø´ÛŒØ¯ Ø¯Ø± ØªÙˆØ³Ø¹Ù‡!**

[ğŸ” Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ù„Ø§](#-Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ-ØªÙˆØ³Ø¹Ù‡---covo-bot)

</div>
